<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Weather Dashboard</title>
    <!-- Linking to the external stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div id="app-container">

        <!-- Search and Header -->
        <header class="weather-card">
            <div class="header-content">
                <h1 class="header-title">
                    Global Weather Monitor
                </h1>
                <div class="search-and-theme">
                    <div class="search-container">
                        <input type="text" id="city-input" placeholder="Enter city name (e.g., London, Tokyo)"
                            class="input-field" value="London">
                        <button id="search-button" class="search-button">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            Search
                        </button>
                    </div>
                    <!-- NEW THEME TOGGLE BUTTON -->
                    <button id="theme-toggle" class="theme-toggle-button">
                        <span id="theme-icon"></span>
                        <span id="theme-text"></span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Loading Indicator -->
        <div id="loading" class="weather-card">
            <div class="spinner"></div>
            <p style="font-size: 1.25rem; font-weight: 500;">Fetching the latest weather data...</p>
        </div>

        <!-- Error Message -->
        <div id="error-message" class="weather-card">
            <p id="error-text">City not found. Please try again.</p>
        </div>

        <!-- Main Weather Display Container -->
        <main id="weather-display" class="hidden">
            <div class="weather-grid">

                <!-- MAIN WEATHER SECTION (2/3 width on desktop) -->
                <section class="main-section weather-card fade-in">
                    <!-- Location and Time -->
                    <div class="location-info">
                        <h2 id="location-name" class="location-name">--</h2>
                        <p id="location-country" class="location-country">--</p>
                        <p id="local-time" class="local-time">--</p>
                    </div>

                    <!-- Current Temp and Condition -->
                    <div class="current-weather">
                        <!-- Temperature Block -->
                        <div>
                            <p id="temp-c" class="temp-c">--</p>
                            <span class="temp-unit">°C</span>
                            <p id="feels-like" class="feels-like">Feels like: --°C</p>
                        </div>

                        <!-- Icon and Condition -->
                        <div style="text-align: right;">
                            <img id="condition-icon" src="" alt="Weather Icon" class="condition-icon">
                            <p id="condition-text" class="condition-text">--</p>
                        </div>
                    </div>
                </section>

                <!-- AIR QUALITY INDEX (1/3 width on desktop) -->
                <section class="aqi-section weather-card fade-in"
                    style="display: flex; flex-direction: column; justify-content: space-between;">
                    <h3 class="aqi-title">Air Quality Index</h3>
                    <div style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                        <div id="aqi-value" class="aqi-value">--</div>
                        <p id="aqi-status" class="aqi-status">--</p>
                        <p class="aqi-label">(US EPA Index)</p>
                    </div>
                    <div id="aqi-bar" class="aqi-bar" style="background-color: var(--color-primary-blue);"></div>
                </section>

                <!-- DETAILED METRICS GRID (Full width below 2 main sections) -->
                <section class="highlights-full" style="margin-top: 1rem;">
                    <h3 class="highlights-header">Today's Highlights</h3>
                    <div class="highlights-grid">

                        <!-- Humidity -->
                        <div class="metric-card">
                            <p>Humidity</p>
                            <p id="humidity" class="metric-value">--<span class="metric-unit">%</span></p>
                            <p class="metric-subtext" style="color: #4ade80;">Normal</p>
                        </div>

                        <!-- Wind Speed -->
                        <div class="metric-card">
                            <p>Wind Speed</p>
                            <p id="wind-kph" class="metric-value">--<span class="metric-unit"> kph</span></p>
                            <p id="wind-dir" class="metric-subtext" style="color: var(--color-text-muted);">--</p>
                        </div>

                        <!-- Pressure -->
                        <div class="metric-card">
                            <p>Pressure</p>
                            <p id="pressure-mb" class="metric-value">--<span class="metric-unit"> mb</span></p>
                            <p class="metric-subtext" style="color: var(--color-text-muted);">Steady</p>
                        </div>

                        <!-- UV Index -->
                        <div class="metric-card">
                            <p>UV Index</p>
                            <p id="uv-index" class="metric-value">--</p>
                            <p id="uv-status" class="metric-subtext">--</p>
                        </div>

                        <!-- Visibility -->
                        <div class="metric-card">
                            <p>Visibility</p>
                            <p id="vis-km" class="metric-value">--<span class="metric-unit"> km</span></p>
                            <p class="metric-subtext" style="color: var(--color-text-muted);">Clear</p>
                        </div>

                        <!-- Dewpoint -->
                        <div class="metric-card">
                            <p>Dew Point</p>
                            <p id="dewpoint-c" class="metric-value">--<span class="metric-unit">°C</span></p>
                            <p class="metric-subtext" style="color: var(--color-text-muted);">Comfort</p>
                        </div>

                    </div>
                </section>
            </div>
        </main>

        <!-- Footer / Attribution -->
        <footer class="footer">
            Powered by WeatherAPI.com
        </footer>

    </div>

    <!-- Linking to the external JavaScript file -->
    <script type="module" src="script.js"></script>
</body>

</html>